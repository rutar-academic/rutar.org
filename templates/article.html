{% extends "base.html" %}
{% block title %}{{ page.title | safe }}{% endblock %}
{% block description %}{{ page.description | safe }}{% endblock %}
{% block content %}
<div class="post-date">{% if page.draft %}DRAFT{% else %}{{ page.date | date(format="%B %-d, %Y") }}{% endif %}</div>
<div class="post-author">Written by <a href="{{ config.base_url }}">{{ config.extra.author }}</a></div>
{% if page.extra.toc %}
<h2>Contents</h2>
<div class="toc">
<ol>
  {% for h1 in page.toc -%}
  <li><a href="{{ h1.permalink | safe}}">{{ h1.title }}</a>
    {% if h1.children -%}
    <ol>
      {% for h2 in h1.children -%}
      <li><a href="{{ h2.permalink | safe}}">{{ h2.title }}</a></li>
      {% endfor -%}
    </ol>
    {%- endif %}
  </li>
  {%- endfor %}
</ol>
</div>
{% endif %}
<div class="post-contents">
{{ page.content | safe }}
</div>
<div class="post-footer">
  <div class="post-info"><a class="hidden-link" href="mailto:{{ config.extra.info.email | urlencode_strict }}">Alex Rutar</a> â€“ <a class="hidden-link" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>
  </div>
  <div class="post-tags">
      {%- for tag in page.taxonomies.tags | sort %}
      <a class="hidden-link" href="{{ get_taxonomy_url(kind="tags", name=tag) | safe }}">{{ tag | safe }}</a>
      {%- if not loop.last %} / {% endif -%}
      {% endfor -%}
  </div>
</div>
{% endblock %}
